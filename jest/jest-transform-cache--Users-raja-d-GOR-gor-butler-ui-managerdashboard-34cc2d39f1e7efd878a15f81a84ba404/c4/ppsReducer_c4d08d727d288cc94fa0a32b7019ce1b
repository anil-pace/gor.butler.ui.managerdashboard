/* istanbul ignore next */"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.





ppsInfo = ppsInfo;var /* istanbul ignore next */_frontEndConstants = require("../constants/frontEndConstants"); /**
                                                                                                                 * @param  {State Object}
                                                                                                                 * @param  {Action object}
                                                                                                                 * @return {[Object] updated state}
                                                                                                                 */function ppsInfo(state = {}, action) {switch (action.type) {case /* istanbul ignore next */_frontEndConstants.PPS_DATA:let ppsData = {},totalCount;
            totalCount = processPPSData(action.data);
            ppsData.totalPut = totalCount.totalPut;
            ppsData.totalAudit = totalCount.totalAudit;
            ppsData.totalPick = totalCount.totalPick;

            return Object.assign({}, state, {
                "ppsData": ppsData });

        case /* istanbul ignore next */_frontEndConstants.GET_PENDING_MSU:
            return Object.assign({}, state, {
                "pendingMSU": action.data ? action.data.successful : {} });


        default:
            return state;}

}

function processPPSData(response) {
    var aggData = response["aggregate_data"] || [],
    totalPut = 0,totalAudit = 0,totalPick = 0;
    for (let i = 0; i < aggData.length; i++) {
        if (aggData[i].hasOwnProperty("pps_mode") && aggData[i]["pps_mode"] === "put" && aggData[i]["active"]) {
            totalPut++;
        } else
        if (aggData[i].hasOwnProperty("pps_mode") && aggData[i]["pps_mode"] === "audit" && aggData[i]["active"]) {
            totalAudit++;
        } else
        if (aggData[i].hasOwnProperty("pps_mode") && aggData[i]["pps_mode"] === "pick" && aggData[i]["active"]) {
            totalPick++;
        }
    }
    return {
        "totalPut": totalPut,
        "totalAudit": totalAudit,
        "totalPick": totalPick };

}