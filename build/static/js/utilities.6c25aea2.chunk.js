webpackJsonp([11],{40:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(94),d=r(c),p=function(e){function t(e){o(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selected:{value:{},label:a.props.placeholder}},a._onSelect=a._onSelect.bind(a),a}return i(t,e),l(t,[{key:"_onSelect",value:function(e){this.setState({selected:e}),this.props.changeMode(e)}},{key:"render",value:function(){var e=this.props.currentState?this.props.currentState:this.props.placeholder;return u.default.createElement("div",{className:this.props.styleClass},u.default.createElement(d.default,{options:this.props.items,onChange:this._onSelect,value:e,placeholder:"Select an option"}))}}]),t}(s.Component);t.default=p},99:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"gor-field-error"},u.default.createElement("div",{className:"gor-login-error"}),this.props.txt)}}]),t}(u.default.Component));t.default=d},268:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),a(3)),p=function(e){function t(e){o(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isError:null},a}return i(t,e),l(t,[{key:"_onFileChange",value:function(e){var t=e.target.files[0],a=t.name,r=null,o=this.props.maxFileSize,n=this.props.acceptedFormats;n.includes("."+a.split(".").pop())?t.size>o&&(r="1"):r="0",r||this.props.onChange(e.target.files[0]),this.setState({isError:r})}},{key:"_onInputClick",value:function(){this.refs.fileUpload.value=null}},{key:"render",value:function(){var e=this.props.isProcessing,t=this.props.maxFileSize?Math.round(this.props.maxFileSize/Math.pow(1024,2),2):0;return u.default.createElement("div",null,u.default.createElement("div",{className:"gor-utility-btn-wrap"},u.default.createElement("button",{className:"gor-filterBtn-applied"},u.default.createElement("label",null,e?u.default.createElement("div",{className:"gor-orange-spinner gor-csv-processing"}):this.props.uploadBtnText)),u.default.createElement("label",{className:"gor-csvUploadWrap"},u.default.createElement("input",{type:"file",ref:"fileUpload",name:"csvUpload",disabled:e,className:"gor-csvUpload",accept:this.props.acceptedFormats.toString(),onClick:this._onInputClick.bind(this),onChange:this._onFileChange.bind(this)})),u.default.createElement("p",{className:"gor-upl-msg"}," ",u.default.createElement(d.FormattedMessage,{id:"utility.fileSize.message",description:"Maximum File Size:  MB",defaultMessage:"Maximum File Size: {maxSize} MB",values:{maxSize:t}})),u.default.createElement("p",{className:"gor-upl-msg gor-upl-err"},this.props.validationList[this.state.isError])))}}]),t}(u.default.Component);p.propTypes={onChange:u.default.PropTypes.func,uploadBtnText:u.default.PropTypes.string},t.default=p},289:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),a(3)),p=function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",null,u.default.createElement("div",{className:this.props.showPanel?"gor-utility-accordian-open":"gor-utility-updown-bar",onClick:function(){return e.props.handleAccordianState(e.props.index)}},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-arrow-wrap"},u.default.createElement("div",{className:this.props.showPanel?"gor-down-arrow":"gor-right-arrow"})),u.default.createElement("div",{className:"gor-inline"},u.default.createElement("div",{className:"gor-utility-master-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.fileName",description:"Upload file name",defaultMessage:"File {fileName}",values:{fileName:this.props.data.seq_num}})),u.default.createElement("div",{className:"gor-utility-master-h2"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.success",description:"Status percent",defaultMessage:"Status: {status} % completed",values:{status:this.props.completed.toString()}}))),u.default.createElement("div",{className:"gor-inline gor-utility-master-h2"},u.default.createElement(d.FormattedDate,{value:new Date(this.props.data.create_time),month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}))),this.props.showPanel?u.default.createElement("div",{className:"gor-utility-accordian"},u.default.createElement("div",{className:"gor-utility-accordian-border"}),u.default.createElement("div",{className:"gor-utility-master-arrordian-h1"},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.recAdded",description:"Record added",defaultMessage:"Records added"})),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h3"},"-"),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h2"},this.props.data.created+" lines")),u.default.createElement("div",{className:"gor-utility-master-arrordian-h1"},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.recUpdated",description:"Record updated",defaultMessage:"Records updated"})),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h3"},"-"),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h2"},this.props.data.updated+" lines")),u.default.createElement("div",{className:"gor-utility-master-arrordian-h1"},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.recDeleted",description:"Record deleted",defaultMessage:"Records deleted"})),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h3"},"-"),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h2"},this.props.data.deleted+" lines")),u.default.createElement("div",{className:"gor-utility-master-arrordian-h1"},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.errors",description:"Errors",defaultMessage:"Errors"})),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h3"},"-"),u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h2"},this.props.data.error+" lines")),u.default.createElement("div",{className:"gor-utility-master-arrordian-h1"},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.uploadFile",description:"Upload File",defaultMessage:"Upload File:"})),u.default.createElement("a",{href:this.props.data.request_file,download:!0,className:"gor-inline gor-utility-accordian-button gor-utility-accordian-h3"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.download",description:"Download",defaultMessage:"Download"}))),u.default.createElement("div",{className:"gor-utility-master-arrordian-h1"},u.default.createElement("div",{className:"gor-inline gor-utility-accordian-h1"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.resultFile",description:"Result file",defaultMessage:"Result File:"})),u.default.createElement("a",{href:this.props.data.response_file?this.props.data.response_file:"javascript:void(0)",download:!0,className:"gor-inline gor-utility-accordian-button gor-utility-accordian-h3"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHist.download",description:"Download",defaultMessage:"Download"})))):"")}}]),t}(u.default.Component);t.default=p},290:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),a(3)),p=a(289),f=r(p),h=a(268),y=r(h),m=function(e){function t(e){o(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showPanel:[]},a}return i(t,e),l(t,[{key:"_handlePanel",value:function(e){var t=this.state.showPanel,a=t[e];t=new Array(t.length?t.length:0).fill(!1),t[e]=!a,this.setState({showPanel:t})}},{key:"_renderMasterData",value:function(){var e,t=[],a=this.props.historyData;if(!this.state.showPanel.length){var r=new Array(a.length?a.length:0).fill(!1);this.state={showPanel:r}}for(var o=a.length-1;o>=0;o--){var n=(a[o].created+a[o].deleted+a[o].error+a[o].updated)/a[o].total*100;e=u.default.createElement(f.default,{completed:n,showPanel:this.state.showPanel[o],data:a[o],handleAccordianState:this._handlePanel.bind(this),index:o,key:"acc"+o}),t.push(e)}return t}},{key:"render",value:function(){var e=this._renderMasterData();return u.default.createElement("div",null,u.default.createElement(y.default,{uploadBtnText:this.props.uploadBtnText,isProcessing:this.props.isMasterUploadProcessing,maxFileSize:this.props.maxFileSize,validationList:this.props.validationList,acceptedFormats:this.props.acceptedFormats,onChange:this.props.onMasterFileUpload}),u.default.createElement("div",{className:"gor-utility-body-header"},u.default.createElement(d.FormattedMessage,{id:"utility.uploadHistory.head",description:"Upload History",defaultMessage:"Upload History"})),u.default.createElement("div",null,e))}}]),t}(u.default.Component);m.propTypes={onMasterFileUpload:u.default.PropTypes.func,historyData:u.default.PropTypes.array,acceptedFormats:u.default.PropTypes.array,validationList:u.default.PropTypes.object,maxFileSize:u.default.PropTypes.number,isMasterUploadProcessing:u.default.PropTypes.bool,uploadBtnText:u.default.PropTypes.string},t.default=m},291:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),a(3),function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"gor-utility-updown-bar"},u.default.createElement("div",{className:"gor-utility-updown-wrap"},u.default.createElement("div",{className:"gor-utility-updown-h1"},this.props.barData.h1),u.default.createElement("div",{className:"gor-utility-updown-h2"},this.props.barData.h2)),u.default.createElement("div",{className:"gor-utility-updown-button"},"RECALL"))}}]),t}(u.default.Component));t.default=d},292:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),a(3),a(40)),p=r(d),f=function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"gor-utility-dropDown-wrap"},u.default.createElement("div",{className:"gor-utility-dropDown-h1"}," ",this.props.dropdownLabel,":"),u.default.createElement(p.default,{styleClass:"gorDataTableDrop",placeholder:this.props.placeHolderText,items:this.props.items,changeMode:this.props.changeMode,currentState:this.props.currentState}))}}]),t}(u.default.Component);t.default=f},293:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),u=r(s),c=a(5),d=(r(c),a(3)),p=function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"gor-utility-tile"},u.default.createElement("div",{className:"gor-utility-tile-h1"},u.default.createElement("div",{className:"gor-utility-tile-heading"},this.props.tileHead),this.props.showHeaderIcon?u.default.createElement("div",{className:"gor-utility-tile-icon"},u.default.createElement("div",{className:"gor-refresh-icon",onClick:this.props.onRefresh})):""),u.default.createElement("div",{className:"gor-utility-tile-body"},this.props.tileBody),this.props.showFooter?u.default.createElement("div",{className:"gor-utility-tile-footer"},u.default.createElement("div",{className:"got-utility-btn-wrap"},u.default.createElement("button",{className:this.props.enableButton?"gor-filterBtn-applied":"gor-filterBtn-applied gor-disable-content",onClick:this.props.footerAction},u.default.createElement(d.FormattedMessage,{id:"utility.downDlabel",description:"label for download",defaultMessage:"DOWNLOAD"})))):"")}}]),t}(u.default.Component);t.default=p},334:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return{auth_token:e.authLogin.auth_token,validatedInvoice:e.utilityValidations.invalidInvoice||!1,inventorySpinner:e.spinner.inventoryReportSpinner||!1,isMasterUploadProcessing:e.utilityValidations.isMasterUploadProcessing||!1,newFileUploaded:e.utilityValidations.newFileUploaded,uploadHistoryData:e.utilityValidations.uploadHistoryData}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),u=a(1),c=r(u),d=a(293),p=r(d),f=a(291),h=r(f),y=a(40),m=(r(y),a(292)),g=r(m),v=a(290),b=r(v),_=a(19),E=a(7),w=a(142),S=a(37),M=a(2),O=a(99),P=(r(O),a(3)),R=(0,P.defineMessages)({masterDataHead:{id:"utility.masterData.head",description:"Master data upload",defaultMessage:"Master data upload"},runScriptsHead:{id:"utility.runScript.head",description:"Run Script",defaultMessage:"Run Script"},downloadReportsHead:{id:"utility.downloadReport.head",description:"Download Reports",defaultMessage:"Download Reports"},goodsRcvdNotesHead:{id:"utility.goodsRcvdNotes.head",description:"Download Goods Recieved Notes",defaultMessage:"Download Goods Recieved Notes"},uploadBtnText:{id:"utility.uploadBtn.label",description:"Upload Master Data",defaultMessage:"Upload Master Data"}}),T=function(e){function t(e){o(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={reportState:{},grnState:{},prodStatusCalledOnLoad:!1},a}return i(t,e),s(t,[{key:"_renderUploadDataTile",value:function(){var e={h1:"Expired Items",h2:"(Recall all the expired items)",buttonText:"RECALL"},t=c.default.createElement(h.default,{barData:e,barAction:this._requestExpiredItems.bind(this)});return t}},{key:"_changeReportCategory",value:function(e){var t=this.state.reportState;t.category=e.value,this.setState({reportState:t})}},{key:"_changeReportFileType",value:function(e){var t=this.state.reportState;t.fileType=e.value,this.setState({reportState:t})}},{key:"_changeGrnFileType",value:function(e){var t=this.state.grnState;t.fileType=e.value,this.setState({grnState:t})}},{key:"_captureQuery",value:function(e){if(e.target.value){var t=this.state.grnState;t.invoiceId=e.target.value,this.setState({grnState:t})}}},{key:"_renderDownReportTile",value:function(){var e=[],t=[{value:"inventory",label:"Inventory"}],a=[{value:"csv",label:"Comma separated values (csv)"},{value:"xls",label:"ExceL Spreadsheet (xls)"}],r=this.state.reportState.fileType?this._getCurrentDropDownState(a,this.state.reportState.fileType):null,o=this.state.reportState.category?this._getCurrentDropDownState(t,this.state.reportState.category):null;return e.push(c.default.createElement(g.default,{key:Math.random(),items:t,dropdownLabel:"Category",placeHolderText:"Select Category",changeMode:this._changeReportCategory.bind(this),currentState:o})),e.push(c.default.createElement(g.default,{key:Math.random(),items:a,dropdownLabel:"File format",placeHolderText:"Select format",changeMode:this._changeReportFileType.bind(this),currentState:r})),e}},{key:"_getCurrentDropDownState",value:function(e,t){for(var a=e.length-1;a>=0;a--)if(e[a].value===t)return e[a].label;return null}},{key:"_renderGRNtile",value:function(){var e=this,t=[],a=[{value:"csv",label:"Comma separated values (csv)"},{value:"xls",label:"ExceL Spreadsheet (xls)"}],r=this.state.grnState.fileType?this._getCurrentDropDownState(a,this.state.grnState.fileType):null,o=c.default.createElement("div",{key:Math.random()},c.default.createElement("div",{className:"gor-utility-invoice-h1"}," STN number: "),c.default.createElement("div",{className:"gor-audit-input-wrap gor-utility-invoice-wrap"},c.default.createElement("input",{className:"gor-audit-input gor-input-ok",placeholder:"Enter STN Number",ref:function(t){e.invoiceId=t},onChange:this._captureQuery.bind(this)}),this.props.validatedInvoice?c.default.createElement("div",{className:"gor-login-error"}):""),this.props.validatedInvoice?c.default.createElement("div",{className:"gor-sku-error gor-utility-error-invoice"},"Please enter correct STN number"):"");return t.push(o),t.push(c.default.createElement(g.default,{key:Math.random(),items:a,dropdownLabel:"File format",placeHolderText:"Select format",changeMode:this._changeGrnFileType.bind(this),currentState:r})),t}},{key:"_onMasterFileUpload",value:function(e){var t=new FormData;t.append("file",e);var a={url:_.MASTER_UPLOAD_URL,method:M.POST,token:this.props.auth_token,cause:M.MASTER_FILE_UPLOAD,contentType:!1,formdata:t};this.props.getItemRecall(a),this.props.uploadMasterDataProcessing(!0)}},{key:"_renderMasterUpload",value:function(){var e=this.props.uploadHistoryData||[],t=c.default.createElement(b.default,{uploadBtnText:this.context.intl.formatMessage(R.uploadBtnText),isMasterUploadProcessing:this.props.isMasterUploadProcessing,maxFileSize:M.MASTER_FILE_MAX_SIZE,validationList:M.MASTER_FILE_VALIDATIONS,acceptedFormats:M.MASTER_FILE_FORMATS,onMasterFileUpload:this._onMasterFileUpload.bind(this),historyData:e});return t}},{key:"_downloadReport",value:function(){var e={url:_.INVENTORY_REPORT_URL,method:M.GET,token:this.props.auth_token};this.props.setInventoryReportSpinner(!0),this.props.getGRdata(e)}},{key:"_downloadGRN",value:function(){var e=_.GR_REPORT_URL+"/"+this.state.grnState.invoiceId,t={url:e,method:M.GET,token:this.props.auth_token,cause:M.GR_REPORT_RESPONSE};this.props.getGRdata(t),this.props.validateInvoiceID(!1)}},{key:"_requestExpiredItems",value:function(){var e={url:_.GET_ITEM_RECALL,method:M.GET,token:this.props.auth_token,cause:M.ITEM_RECALLED};this.props.getItemRecall(e)}},{key:"_onRefresh",value:function(){var e={url:_.UPLOAD_HISTORY_URL,method:M.GET,token:this.props.auth_token,cause:M.UPLOAD_HISTORY};this.props.getUploadHistory(e)}},{key:"componentDidMount",value:function(){this._onRefresh()}},{key:"componentWillReceiveProps",value:function(e,t){e.newFileUploaded!==this.props.newFileUploaded&&this._onRefresh()}},{key:"render",value:function(){var e=this._renderUploadDataTile(),t=this._renderDownReportTile(),a=this._renderGRNtile(),r=this._renderMasterUpload(),o=!(!this.state.reportState.fileType||!this.state.reportState.category),n=!(!this.state.grnState.fileType||!this.state.grnState.invoiceId);return c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement(p.default,{tileHead:this.context.intl.formatMessage(R.masterDataHead),showFooter:!1,tileBody:r,showHeaderIcon:!0,onRefresh:this._onRefresh.bind(this)}),c.default.createElement(p.default,{tileHead:this.context.intl.formatMessage(R.runScriptsHead),showFooter:!1,tileBody:e}),c.default.createElement(p.default,{tileHead:this.context.intl.formatMessage(R.downloadReportsHead),showFooter:!0,tileBody:t,footerAction:this._downloadReport.bind(this),enableButton:o,responseState:this.props.inventorySpinner}),c.default.createElement(p.default,{tileHead:this.context.intl.formatMessage(R.goodsRcvdNotesHead),showFooter:!0,tileBody:a,footerAction:this._downloadGRN.bind(this),enableButton:n})))}}]),t}(c.default.Component),N=function(e){return{getItemRecall:function(t){e((0,w.getItemRecall)(t))},getUploadHistory:function(t){e((0,w.getUploadHistory)(t))},getGRdata:function(t){e((0,w.getGRdata)(t))},validateInvoiceID:function(t){e((0,w.validateInvoiceID)(t))},uploadMasterDataProcessing:function(t){e((0,w.uploadMasterDataProcessing)(t))},setInventoryReportSpinner:function(t){e((0,S.setInventoryReportSpinner)(t))}}};T.contextTypes={intl:c.default.PropTypes.object.isRequired},t.default=(0,E.connect)(l,N)(T)}});
//# sourceMappingURL=utilities.6c25aea2.chunk.js.map