webpackJsonp([3],{41:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),l=a(1),u=o(l),c=a(5),d=(o(c),function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.setSpinner&&this.props.isLoading===!0&&setTimeout(this.props.setSpinner.bind(this,!1),5e3)}},{key:"render",value:function(){return u.default.createElement("div",{className:"loader",style:this.props.isLoading?{display:"block"}:{display:"none"}})}}]),t}(u.default.Component));t.default=d},87:function(e,t,a){"use strict";function o(e,t){var a=void 0,o=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;return a=!e.length||!t.length||e.length>50||t.length>50?{type:u.ERROR,msg:d.EMPTY_NAME}:o.test(e)||o.test(t)?{type:u.ERROR,msg:d.INVALID_NAME}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}}function n(e,t,a){var o=void 0,n=void 0;return n=c.BUTLER_SUPERVISOR,o=e.length?e!=t?{type:u.ERROR,msg:d.MATCH_PWD}:e.length<8?a===n?{type:u.ERROR,msg:d.INVALID_PWD_MG}:e.length<6?{type:u.ERROR,msg:d.INVALID_PWD_OP}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}:{type:u.ERROR,msg:d.EMPTY_PWD}}function r(e){var t=void 0;return t=e.length<1?{type:u.ERROR,msg:d.INVALID_LOCID}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}}function s(e){var t=void 0;return t=e.length<1?{type:u.ERROR,msg:d.INVALID_SKUID}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}}function i(e){var t=void 0,a=/[!@#$%^&*()_+\-=\[\]{};':"\\|,<>\/?]/;return t=e.length<1||e.length>30?{type:u.ERROR,msg:d.INVALID_ID}:a.test(e)?{type:u.ERROR,msg:d.INVALID_FORMAT}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}}function l(e){var t=void 0;return t=e.length<1?{type:u.ERROR,msg:d.EMPTY_PWD}:{type:u.SUCCESS,msg:d.TYPE_SUCCESS}}Object.defineProperty(t,"__esModule",{value:!0}),t.nameStatus=o,t.passwordStatus=n,t.locationStatus=r,t.skuStatus=s,t.idStatus=i,t.emptyField=l;var u=a(2),c=a(15),d=a(42)},152:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{notifyInfo:e.appInfo.notifyInfo||null}}function l(e){return{notifyHide:function(){e((0,f.notifyHide)())}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(44)),m=a(7),h=a(2),y=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){window.scrollTo(0,0),e.notifyInfo&&e.notifyInfo.type!==h.HIDE&&setTimeout(this.props.notifyHide.bind(this),5e3)}},{key:"render",value:function(){return d.default.createElement("div",{className:"gor-notify-top "+(this.props.notifyInfo?this.props.notifyInfo.type:""),style:this.props.notifyInfo&&this.props.notifyInfo.type!==h.HIDE?{display:"block"}:{display:"none"}},d.default.createElement("span",{className:this.props.notifyInfo?this.props.notifyInfo.icon:""}),d.default.createElement("span",null,this.props.notifyInfo?this.props.notifyInfo.msg:""))}}]),t}(d.default.Component);t.default=(0,m.connect)(i,l)(y)},189:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{authToken:e.authLogin.auth_token,loginAuthorized:e.authLogin.loginAuthorized,timeOutDuration:e.authLogin.timeOutDuration,socketStatus:e.recieveSocketActions.socketConnected,socketAuthorized:e.recieveSocketActions.socketAuthorized,headerInfo:e.headerData.headerInfo,intl:e.intl,tab:e.tabSelected.tab,subTab:e.tabSelected.subTab,prevTab:e.tabSelected.prevTab,wsSubscriptionData:e.recieveSocketActions.socketDataSubscriptionPacket||E.wsOverviewData,isFilterApplied:e.filterInfo.isFilterApplied||!1}}function l(e){return{initWebSocket:function(){e((0,g.setWsAction)({type:v.WS_CONNECT}))},sendAuthToSocket:function(t){e((0,g.setWsAction)({type:v.WS_ONSEND,data:t}))},initDataSentCall:function(t){e((0,g.setWsAction)({type:v.WS_ONSEND,data:t}))},initMockData:function(t){e((0,g.setMockAction)({type:v.WS_MOCK,data:t}))},prevTabSelected:function(t){e((0,k.prevTabSelected)(t))},getTimeOffSetData:function(t){e((0,b.getTimeOffSetData)(t))},setTimeOffSetData:function(t){e((0,b.setTimeOffSetData)(t))},endConnect:function(){e((0,g.endWsAction)())},userLogout:function(){e((0,b.logoutRequest)())},notifyInfo:function(t){e((0,M.notifyInfo)(t))},updateSubscriptionPacket:function(t){e((0,g.updateSubscriptionPacket)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(330)),m=o(f),h=a(276),y=o(h),g=a(36),b=a(97),v=a(2),_=a(42),E=a(90),S=a(19),k=a(106),T=a(7),O=a(152),w=o(O),M=a(44),C=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"componentWillMount",value:function(){"/"!==this.props.location.pathname&&sessionStorage.setItem("nextUrl",this.props.location.pathname.concat(this.props.location.search)),this.context.router.push("/login"),this.props.updateSubscriptionPacket(E.wsOverviewData)}},{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("timeOffset");if(e)this.props.setTimeOffSetData(e);else{var t={url:S.TIME_ZONE_URL,method:v.GET,cause:v.RECIEVE_TIME_OFFSET};this.props.getTimeOffSetData(t)}if(this.props.timeOutDuration){var a=1e3*this.props.timeOutDuration;setTimeout(function(){sessionStorage.clear(),this.props.userLogout(),this.props.endConnect(),this.props.notifyInfo(_.AUTO_LOGOUT)}.bind(this),a)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.loginAuthorized,a=e.authToken,o=e.socketStatus,n=e.location.pathname.substring(1,e.location.pathname.length);if(!t)return void this.context.router.push("/login");var r=void 0;if(r=n?e.wsSubscriptionData[n]||e.wsSubscriptionData.default:e.wsSubscriptionData.default,o)if(e.socketAuthorized)e.prevTab?e.prevTab===n&&e.location.pathname===this.props.location.pathname:this.props.prevTabSelected(n||v.TAB_ROUTE_MAP[v.OVERVIEW]);else{var s={type:"auth",data:{auth_token:a}};this.props.sendAuthToSocket(s)}else this.props.initWebSocket()}},{key:"render",value:function(){return d.default.createElement("div",{className:"mainContainer"},d.default.createElement(w.default,null),d.default.createElement(y.default,null),d.default.createElement(m.default,null),this.props.children)}}]),t}(d.default.Component);C.contextTypes={router:d.default.PropTypes.object.isRequired},t.default=(0,T.connect)(i,l)(C)},196:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{auth_token:e.authLogin.auth_token,username:e.authLogin.username,passwordCheck:e.appInfo.passwordInfo||{},modalStatus:e.emergency.hideModal||!1,system_emergency:e.tabsData.system_emergency||!1,system_data:e.tabsData.system_data||null}}function l(e){return{userRequest:function(t){e((0,m.userRequest)(t))},validatePass:function(t){e((0,g.validatePassword)(t))},resetForm:function(){e((0,g.modalFormReset)())}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(7)),m=a(39),h=a(3),y=a(43),g=a(44),b=a(87),v=a(19),_=a(2),E=a(306),S=o(E),k=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"_removeThisModal",value:function(){this.props.resetForm(),this.props.removeModal()}},{key:"_typing",value:function(){this.passField.className="gor-password-field-lg gor-input-ok gor-input-typing",this._checkPass()}},{key:"_checkPass",value:function(){var e=this.password.value.trim(),t=void 0;return t=(0,b.emptyField)(e),this.props.validatePass(t),t.type}},{key:"componentWillReceiveProps",value:function(e){e.auth_token&&e.system_emergency&&e.system_data===this.props.system_data||this._removeThisModal(),e.modalStatus&&!this.props.modalStatus&&(this._removeThisModal(),y.modal.add(S.default,{title:"",size:"large",closeOnOutsideClick:!1,hideCloseButton:!0}))}},{key:"_handleResume",value:function(){var e={username:this.props.username,password:this.password.value},t={url:v.LOGIN_URL,method:_.POST,cause:_.RESUME_OPERATION,formdata:e,contentType:_.APP_JSON,accept:_.APP_JSON,token:this.props.auth_token};this.props.userRequest(t)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"gor-operation-pause gor-modal-content"},d.default.createElement("div",{className:"gor-operation-head"},d.default.createElement("div",{className:"gor-question-2"}),d.default.createElement(h.FormattedMessage,{id:"operation.resume.heading",defaultMessage:"Resume Operation",description:"Text for resume operation heading"})),d.default.createElement("div",{className:"gor-operation-body"},d.default.createElement("span",null,d.default.createElement(h.FormattedMessage,{id:"operation.resume.text",defaultMessage:"To resume operation, you will be required to go through a safety checklist to make sure that the Butler system is ready",description:"Text for resume operation body"})),d.default.createElement("div",{className:"gor-margin-top"},d.default.createElement("div",{className:"gor-password-field-lg"+(this.props.passwordCheck.type===_.ERROR?" gor-input-error":" gor-input-ok"),ref:function(t){e.passField=t}},d.default.createElement("div",{className:this.props.passwordCheck.type===_.ERROR?"gor-login-password-error":"gor-login-password"}),d.default.createElement("input",{className:"field",type:"password",id:"password",ref:function(t){e.password=t},onChange:this._typing.bind(this),placeholder:"Enter your password"})),this.props.passwordCheck&&this.props.passwordCheck.type===_.ERROR?d.default.createElement("div",{className:"gor-login-usr-error gor-sm-string"},d.default.createElement(h.FormattedMessage,{id:"operation.resume.error",defaultMessage:"The entered input does not match. Please try again.",description:"Text for wrong password"})):""),d.default.createElement("div",{className:"gor-margin-top"},d.default.createElement("button",{className:"gor-cancel-btn",onClick:this._removeThisModal.bind(this)},d.default.createElement(h.FormattedMessage,{id:"operation.cancel",defaultMessage:"Cancel",description:"Text for cancel"})),d.default.createElement("button",{className:"gor-add-btn",disabled:this.props.passwordCheck.type!==_.SUCCESS,onClick:this._handleResume.bind(this)},d.default.createElement(h.FormattedMessage,{id:"operation.resume.view",defaultMessage:"View safety checklist",description:"Text for viewing safety checklist"})))))}}]),t}(d.default.Component);k.propTypes={auth_token:d.default.PropTypes.string,username:d.default.PropTypes.string,passwordCheck:d.default.PropTypes.object,modalStatus:d.default.PropTypes.bool,system_emergency:d.default.PropTypes.bool,userRequest:d.default.PropTypes.func,validatePass:d.default.PropTypes.func,resetForm:d.default.PropTypes.func,system_data:d.default.PropTypes.string},t.default=(0,f.connect)(i,l)(k)},275:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),l=a(1),u=o(l),c=a(5),d=o(c),p=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={menuVisible:!1},a._handleDocumentClick=a._handleDocumentClick.bind(a),a}return s(t,e),i(t,[{key:"componentWillMount",value:function(){document.addEventListener("click",this._handleDocumentClick,!1),document.addEventListener("touchend",this._handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._handleDocumentClick,!1),document.removeEventListener("touchend",this._handleDocumentClick,!1)}},{key:"_toggleDropdown",value:function(){var e=this.state.menuVisible;e=!e,this.setState({menuVisible:e})}},{key:"_processList",value:function(){var e,t=[];e=this.props.data.optionList||[];for(var a=0;a<e.length;a++)t.push(u.default.createElement("span",{className:"gor-hamburger-option "+e[a].optionClass,key:a},e[a].icon&&u.default.createElement("div",{className:"gor-option-icon"},u.default.createElement("div",{className:e[a].icon})),u.default.createElement("span",null,e[a].optionText),e[a].fnButton&&u.default.createElement("button",{className:"gor-btn-small gor-right",onClick:e[a].fnButton.bind(this)},e[a].buttonText)));return t}},{key:"_handleDocumentClick",value:function(){d.default.findDOMNode(this).contains(event.target)||this.setState({menuVisible:!1})}},{key:"render",value:function(){var e=this._processList(),t=u.default.createElement("span",{className:"gor-hamburger-wrapper",style:this.state.menuVisible?{display:"block"}:{display:"none"}},e);return u.default.createElement("div",{className:"gor-menuWrap "+this.props.data.menuStyle,style:this.state.menuVisible?{borderLeft:"1px solid #aaaaaa",borderRight:"1px solid #aaaaaa"}:{},onClick:this._toggleDropdown.bind(this)},u.default.createElement("div",{className:"blockSystem"},u.default.createElement("div",{className:"gor-menu-heading "+this.props.data.headingStyle},this.props.data.heading),u.default.createElement("div",{className:"gor-menu-subheading "+this.props.data.headingStyle},this.props.data.subHeading)),u.default.createElement("div",{className:"gor-menuIcon "+(this.state.menuVisible?this.props.data.openIcon:this.props.data.closeIcon)}),t)}}]),t}(u.default.Component);p.propTypes={heading:u.default.PropTypes.object,subHeading:u.default.PropTypes.object,optionList:u.default.PropTypes.array,menuStyle:u.default.PropTypes.string,headingStyle:u.default.PropTypes.string,openIcon:u.default.PropTypes.string,closeIcon:u.default.PropTypes.string},t.default=p},276:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{headerInfo:e.headerData.headerInfo,shift_start_time:e.headerData.shiftStartTime,authToken:e.authLogin.auth_token,username:e.authLogin.username,system_emergency:e.tabsData.system_emergency||null,system_status:e.tabsData.status||null,system_data:e.tabsData.system_data||null,activeModalKey:e.appInfo.activeModalKey||0,timeOffset:e.authLogin.timeOffset}}function l(e){return{getHeaderInfo:function(t){e((0,v.getHeaderInfo)(t))},switchModalKey:function(t){e((0,P.switchModalKey)(t))},getShiftStartTime:function(t){e((0,v.getShiftStartTime)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),d=a(1),p=o(d),f=a(5),m=o(f),h=a(2),y=a(15),g=a(19),b=a(43),v=a(190),_=a(310),E=o(_),S=a(3),k=a(7),T=a(275),O=o(T),w=a(305),M=(o(w),a(196)),C=o(M),P=a(44),N=0,R=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return 0===N&&(u="dropdown-content"),a.setDropdown=a.setDropdown.bind(a),a.state={showDropdown:!1},a._handleDocumentClick=a._handleDocumentClick.bind(a),a}return s(t,e),c(t,[{key:"_getShiftStartTime",value:function(){var e={url:g.GET_SHIFT_START_TIME_URL,method:h.GET,cause:h.RECEIVE_SHIFT_START_TIME,token:this.props.authToken};this.props.getShiftStartTime(e)}},{key:"componentDidMount",value:function(){var e=this.props.username;if(e&&this.props.authToken){var t={url:g.HEADER_URL+"?username="+e,method:h.GET,cause:h.RECIEVE_HEADER,token:this.props.authToken};this.props.getHeaderInfo(t)}this._getShiftStartTime()}},{key:"componentWillMount",value:function(){document.addEventListener("click",this._handleDocumentClick,!0),document.addEventListener("touchend",this._handleDocumentClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._handleDocumentClick,!0),document.removeEventListener("touchend",this._handleDocumentClick,!0)}},{key:"openDropdown",value:function(){N=1,u="dropdown-content-afterClick"}},{key:"setDropdown",value:function(){this.setState({showDropdown:!this.state.showDropdown})}},{key:"_handleDocumentClick",value:function(){m.default.findDOMNode(this.dropdownNode).contains(event.target)||this.dropdownValue&&m.default.findDOMNode(this.dropdownValue).contains(event.target)||this.setState({showDropdown:!1})}},{key:"addModal",value:function(){b.modal.add(E.default,{title:"",size:"large",closeOnOutsideClick:!0,hideCloseButton:!0})}},{key:"_showModal",value:function(e){this.props.switchModalKey(this.props.activeModalKey),b.modal.add(e,{title:"",size:"large",closeOnOutsideClick:!0,hideCloseButton:!0})}},{key:"_processData",value:function(){var e={};return this.props.headerInfo&&this.props.headerInfo.users.length&&(e=Object.assign({},this.props.headerInfo),e.fullName=(e.users[0].first_name||"")+" "+(e.users[0].last_name||""),e.designation=e.users[0].roles[0]||"butler_ui"),e.start=this.context.intl.formatTime(this.props.shift_start_time,{hour:"numeric",minute:"numeric",timeZone:this.props.timeOffset,timeZoneName:"long"}),e}},{key:"_processMenu",value:function(e){var t,a,o,n,r,s,i={};return o=[],this.props.system_emergency?(t=p.default.createElement(S.FormattedMessage,{id:"header.emergency.heading",description:"Header description",defaultMessage:"Emergency"}),a=p.default.createElement(S.FormattedMessage,{id:"header.emergency.subheading",description:"Start time ",defaultMessage:"In Zone"}),n=p.default.createElement(S.FormattedMessage,{id:"header.option.stopped",description:"stopped operation",defaultMessage:"Operation stopped"}),s=p.default.createElement(S.FormattedMessage,{id:"header.button.resume",description:"Button text",defaultMessage:"Resume"}),o.push({optionClass:"gor-fail",icon:"gor-error-white",optionText:n,fnButton:"",buttonText:""}),this.props.system_data!==h.SOFT_MANUAL?(r=p.default.createElement(S.FormattedMessage,{id:"header.option.release",description:"release operation option",defaultMessage:"Release the Emergency Stop button from the Zigbee box in order  to resume operation."}),o.push({optionClass:"",icon:"",optionText:r,fnButton:"",buttonText:s})):(r=p.default.createElement(S.FormattedMessage,{id:"header.option.resume",description:"resume operation option",defaultMessage:"Enter password to resume operation."}),o.push({optionClass:"",icon:"",optionText:r,fnButton:this._showModal.bind(this,C.default),buttonText:s})),i={heading:t,subHeading:a,optionList:o,menuStyle:"gor-fail",headingStyle:"gor-white-text",openIcon:"gor-emergency-dropdown-open",closeIcon:"gor-emergency-dropdown-close"}):(t=p.default.createElement(S.FormattedMessage,{id:"header.butler",description:"Header description",defaultMessage:"Butler"}),a=p.default.createElement(S.FormattedMessage,{id:"header.start",description:"Start time ",defaultMessage:"Start time:{time} ",values:{time:e.start}}),n=p.default.createElement(S.FormattedMessage,{id:"header.option.normal",description:"normal operation",defaultMessage:"Operation normal"}),r=p.default.createElement(S.FormattedMessage,{id:"header.option.pause",description:"pause operation option",defaultMessage:"Enter password to pause operation"}),s=p.default.createElement(S.FormattedMessage,{id:"header.button.pause",description:"Button text",defaultMessage:"Pause"}),o.push({optionClass:"gor-operation-normal",icon:"gor-operation-tick",optionText:n,fnButton:"",buttonText:""}),i={heading:t,subHeading:a,optionList:o,menuStyle:"",headingStyle:"",openIcon:"gor-dropdown-open",closeIcon:"gor-dropdown-close"}),i}},{key:"render",value:function(){var e=this,t=this._processData(),a=this._processMenu(t);return p.default.createElement("header",{className:"gorHeader head"},p.default.createElement("div",{className:"mainBlock"},p.default.createElement("div",{className:"logoWrap"},p.default.createElement("div",null,p.default.createElement("div",{className:"gor-logo logo"}," "))),p.default.createElement("div",{className:"gor-border"})),p.default.createElement("div",{className:"blockLeft"},p.default.createElement(O.default,{data:a}),p.default.createElement("div",{className:"gor-border"}),p.default.createElement("div",{className:"dropdown",id:"profile"},p.default.createElement("div",{className:"dropbtn",onClick:this.setDropdown,ref:function(t){e.dropdownNode=t}},p.default.createElement("div",{className:"block"},p.default.createElement("div",{className:"upperTextClient truncate"},t?t.fullName:"Fetching..."),p.default.createElement("div",{className:"subTextClient"},t.designation?this.context.intl.formatMessage(y.stringConfig[t.designation]):"--")),p.default.createElement("div",{className:"block user-icon"}),this.state.showDropdown?p.default.createElement("div",{className:"dropdown-content",ref:function(t){e.dropdownValue=t},onClick:this.addModal.bind(this)},p.default.createElement("div",{className:"horizontalDiv"}),p.default.createElement("div",null,p.default.createElement("a",{href:"javascript:void(0)"},p.default.createElement(S.FormattedMessage,{id:"header.logout",defaultMessage:"Logout",description:"Text for logout"})))):""))))}}]),t}(p.default.Component);R.contextTypes={intl:p.default.PropTypes.object.isRequired},t.default=(0,k.connect)(i,l)(R)},287:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),l=a(1),u=o(l),c=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),i(t,[{key:"render",value:function(){var e={};return e=this.props.subIcons===!0&&"gorError"===this.props.items.currentState?u.default.createElement("div",{className:"tab-alert-icon"}):this.props.subIcons===!0&&"gor-online"===this.props.items.currentState?u.default.createElement("div",{className:"tab-online-icon"}):this.props.subIcons===!0&&"gor-offline"===this.props.items.currentState?u.default.createElement("div",{className:"tab-offline-icon"}):this.props.subIcons===!0&&"gor-alert"===this.props.items.currentState?u.default.createElement("div",{className:"tab-alert-icon"}):this.props.subIcons===!0&&"gor-emergency-alert"===this.props.items.currentState?u.default.createElement("div",{className:"gor-error-white"}):u.default.createElement("div",null),u.default.createElement("div",{className:"gorTab gorContainer"},u.default.createElement("div",{className:this.props.changeClass+" gor-main-block"},u.default.createElement("div",{className:"gorInlineDisplay"},u.default.createElement("div",null,u.default.createElement("div",{className:"gor-upperText"},this.props.items.tab)),u.default.createElement("div",{className:"gor-offline"},u.default.createElement("div",{className:this.props.items.currentState},this.props.items.Status))),u.default.createElement("div",{className:"gorIconsInline"},e)))}}]),t}(u.default.Component);t.default=c},303:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{auth_token:e.authLogin.auth_token,system_emergency:e.tabsData.system_emergency||!1,system_data:e.tabsData.system_data||null}}function l(e){return{userRequest:function(t){e((0,m.userRequest)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(7)),m=a(39),h=a(2),y=a(19),g=a(3),b=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"removeThisModal",value:function(){this.props.removeModal()}},{key:"componentWillReceiveProps",value:function(e){e.auth_token&&e.system_emergency&&e.system_data===this.props.system_data||this.removeThisModal()}},{key:"userDelete",value:function(){var e=y.HEADER_URL+"/"+(this.props.id?this.props.id:""),t={url:e,method:h.DELETE,cause:h.DELETE_USER,contentType:h.APP_JSON,accept:h.APP_JSON,token:this.props.auth_token};this.props.userRequest(t),this.props.removeModal()}},{key:"render",value:function(){return d.default.createElement("div",{className:"gor-emergency-overlay"},d.default.createElement("div",{className:"gor-delete gor-modal-content gor-operation-stop"},d.default.createElement("span",{className:"close",onClick:this.removeThisModal.bind(this)},"×"),d.default.createElement("div",{className:"gor-delete-text"},d.default.createElement("div",{className:"gor-alert-lg"}),d.default.createElement("div",{className:"gor-delete-line"},d.default.createElement("div",{className:"gor-delete-query gor-error-lg"},this.props.emergencyPress?d.default.createElement(g.FormattedMessage,{id:"operation.alert.stop",defaultMessage:"Operation Stopped",description:"Text for operation stopped heading"}):d.default.createElement(g.FormattedMessage,{id:"operation.alert.pause",defaultMessage:"Operation Paused",description:"Text for operation paused heading"}))),d.default.createElement("div",{className:"gor-margin-top"},d.default.createElement("div",{className:"gor-error-md"},this.props.emergencyPress?d.default.createElement(g.FormattedMessage,{id:"operation.alert.stop.text",defaultMessage:"Emergency Stop button has been pressed.",description:"Text for emergency button press"}):d.default.createElement(g.FormattedMessage,{id:"operation.alert.pause.text",defaultMessage:"Butler operation has been paused from the management dashboard",description:"Text for operation paused alert"})),d.default.createElement("span",{className:"gor-text-sm"},d.default.createElement(g.FormattedMessage,{id:"operation.alert.pause.subtext",defaultMessage:"You must check the emergency situation and release the Emergency Stop button in order to resume the operation in warehouse",description:"Subtext for pause alert"}))))))}}]),t}(d.default.Component);b.propTypes={auth_token:d.default.PropTypes.string,userRequest:d.default.PropTypes.func,emergencyPress:d.default.PropTypes.bool,system_emergency:d.default.PropTypes.bool,system_data:d.default.PropTypes.string},t.default=(0,f.connect)(i,l)(b)},304:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{auth_token:e.authLogin.auth_token,system_data:e.tabsData.system_data||null,checkingList:e.emergency.checkingList||!1}}function l(e){return{userRequest:function(t){e((0,h.userRequest)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(7)),m=a(43),h=a(39),y=a(3),g=(a(2),a(196)),b=o(g),v=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"_removeThisModal",value:function(){this.props.removeModal()}},{key:"componentDidMount",value:function(){this.props.checkingList&&this._removeThisModal()}},{key:"componentWillReceiveProps",value:function(e){e.auth_token&&e.system_data===this.props.system_data||this._removeThisModal()}},{key:"_resumeOperation",value:function(){this._removeThisModal(),m.modal.add(b.default,{title:"",size:"large",closeOnOutsideClick:!1,hideCloseButton:!0})}},{key:"render",value:function(){return d.default.createElement("div",{className:"gor-modal-content gor-resume-operation"},d.default.createElement("span",{className:"close",onClick:this._removeThisModal.bind(this)},"×"),d.default.createElement("div",{className:"gor-operation-head"},d.default.createElement("div",{className:"gor-caution"}),d.default.createElement("span",{className:"gor-operation-heading"},d.default.createElement(y.FormattedMessage,{id:"operation.alert.release",defaultMessage:"Stop button released",description:"Text for emergency button release heading"}))),d.default.createElement("div",{className:"gor-operation-body"},d.default.createElement("div",{className:"gor-text-bold"},d.default.createElement(y.FormattedMessage,{id:"operation.alert.release.text",defaultMessage:"Emergency Stop button has been released.",description:"Text for emergency stop button release"})),d.default.createElement("div",{className:"gor-operation-text"},d.default.createElement(y.FormattedMessage,{id:"operation.alert.release.subtext",defaultMessage:"You will be required to enter your password in order to view the checklist. Approving all the items on checklist will resume the warehouse operation",description:"Text for next stop to resume operation"})),d.default.createElement("div",{className:"gor-margin-top gor-center-align"},d.default.createElement("button",{className:"gor-add-btn",onClick:this._resumeOperation.bind(this)},d.default.createElement(y.FormattedMessage,{id:"operation.alert.release.button",defaultMessage:"Resume operation",description:"Text button to resume operation"})))))}}]),t}(d.default.Component);v.propTypes={auth_token:d.default.PropTypes.string,userRequest:d.default.PropTypes.func,system_data:d.default.PropTypes.string,checkingList:d.default.PropTypes.bool},t.default=(0,f.connect)(i,l)(v)},305:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{auth_token:e.authLogin.auth_token,username:e.authLogin.username,passwordCheck:e.appInfo.passwordInfo||{},modalStatus:e.emergency.hideModal||!1,system_data:e.tabsData.system_data||null}}function l(e){return{userRequest:function(t){e((0,m.userRequest)(t))},validatePass:function(t){e((0,y.validatePassword)(t))},resetForm:function(){e((0,y.modalFormReset)())}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(7)),m=a(39),h=a(3),y=a(44),g=a(87),b=a(19),v=a(2),_=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"_removeThisModal",value:function(){this.props.resetForm(),this.props.removeModal()}},{key:"_typing",value:function(){this.passField.className="gor-password-field-lg gor-input-ok gor-input-typing",this._checkPass()}},{key:"_checkPass",value:function(){var e=this.password.value.trim(),t=void 0;return t=(0,g.emptyField)(e),this.props.validatePass(t),t.type}},{key:"componentWillReceiveProps",value:function(e){e.auth_token&&e.system_data===this.props.system_data||this._removeThisModal(),e.modalStatus&&!this.props.modalStatus&&this._removeThisModal()}},{key:"_handlePause",value:function(){var e={username:this.props.username,password:this.password.value},t={url:b.LOGIN_URL,method:v.POST,cause:v.PAUSE_OPERATION,formdata:e,contentType:v.APP_JSON,accept:v.APP_JSON,token:this.props.auth_token};this.props.userRequest(t)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"gor-operation-pause gor-modal-content"},d.default.createElement("div",{className:"gor-operation-head"},d.default.createElement("div",{className:"gor-question-2"}),d.default.createElement(h.FormattedMessage,{id:"operation.pause.heading",defaultMessage:"Pause Operation",description:"Text for pause operation heading"})),d.default.createElement("div",{className:"gor-operation-body"},d.default.createElement(h.FormattedMessage,{id:"operation.pause.text",defaultMessage:"All Butler bots, PPS and other sysytem components will be paused once completed the last action",description:"Text for pause operation action"}),d.default.createElement("div",{className:"gor-margin-top"},d.default.createElement("div",{className:"gor-password-field-lg"+(this.props.passwordCheck.type===v.ERROR?" gor-input-error":" gor-input-ok"),ref:function(t){e.passField=t}},d.default.createElement("div",{className:this.props.passwordCheck.type===v.ERROR?"gor-login-password-error":"gor-login-password"}),d.default.createElement("input",{className:"field",type:"password",id:"password",ref:function(t){e.password=t},onChange:this._typing.bind(this),placeholder:"Enter your password"})),this.props.passwordCheck&&this.props.passwordCheck.type===v.ERROR?d.default.createElement("div",{className:"gor-login-usr-error gor-sm-string"},d.default.createElement(h.FormattedMessage,{id:"operation.pause.error",defaultMessage:"The entered input does not match. Please try again.",description:"Text for wrong password"})):""),d.default.createElement("div",{className:"gor-margin-top"},d.default.createElement("button",{className:"gor-cancel-btn",onClick:this._removeThisModal.bind(this)},d.default.createElement(h.FormattedMessage,{id:"operation.pause.cancel",defaultMessage:"Cancel",description:"Text for cancel button"})),d.default.createElement("button",{className:"gor-add-btn",disabled:this.props.passwordCheck.type!==v.SUCCESS,onClick:this._handlePause.bind(this)},d.default.createElement(h.FormattedMessage,{id:"operation.pause.button",defaultMessage:"Pause Operation",description:"Text for pause button"})))))}}]),t}(d.default.Component);_.propTypes={auth_token:d.default.PropTypes.string,username:d.default.PropTypes.string,passwordCheck:d.default.PropTypes.object,modalStatus:d.default.PropTypes.bool,userRequest:d.default.PropTypes.func,validatePass:d.default.PropTypes.func,resetForm:d.default.PropTypes.func,system_data:d.default.PropTypes.string},t.default=(0,f.connect)(i,l)(_)},306:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{checkList:e.emergency.safetyList||[],safetyErrorList:e.emergency.safetyErrorList||[],auth_token:e.authLogin.auth_token,modalStatus:e.emergency.hideModal||!1,safetySpinner:e.spinner.safetySpinner||!1,system_emergency:e.tabsData.system_emergency||!1,system_data:e.tabsData.system_data||null}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),u=a(1),c=o(u),d=a(5),p=(o(d),a(3)),f=a(44),m=a(39),h=a(37),y=a(7),g=a(2),b=a(19),v=(a(87),a(15)),_=a(41),E=o(_),S=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={allChecked:!1,checkedSet:new Set,safetyError:!1,errorList:[]},a}return s(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.props.resetForm(),this.props.validatingList(!1)}},{key:"_removeThisModal",value:function(){this.props.removeModal()}},{key:"componentWillReceiveProps",value:function(e){if(e.auth_token&&e.system_emergency||this._removeThisModal(),e.modalStatus&&!this.props.modalStatus&&this._removeThisModal(),e.safetyErrorList.length){var t,a=e.safetyErrorList;this.setState({safetyError:!0,errorList:a}),t=this.props.checkList.length;for(var o in a)this._toggleSelection(a[o],t)}}},{key:"componentDidMount",value:function(){var e={url:b.VALIDATION_LIST,method:g.GET,cause:g.CHECK_SAFETY,contentType:g.APP_JSON,accept:g.APP_JSON,token:this.props.auth_token};this.props.userRequest(e),this.props.validatingList(!0)}},{key:"_toggleSelection",value:function(e,t){var a=this.state.checkedSet;a.has(e)?a.delete(e):a.add(e),this.setState({checkedSet:a}),a.size===t?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"_handleSafetyConfirm",value:function(e){e.preventDefault();var t,a;t=this.props.checkList.length,a={type:"stop"};var o={url:b.VALIDATE_SAFETY,method:g.POST,formdata:a,cause:g.CONFIRM_SAFETY,contentType:g.APP_JSON,accept:g.APP_JSON,token:this.props.auth_token};this.props.userRequest(o),this.props.setSafetySpinner(!0)}},{key:"_isValid",value:function(e,t){var a,o=this.state.errorList;return a=o.indexOf(e),a==-1}},{key:"_inList",value:function(e){var t=this.state.checkedSet;return!!t.has(e)}},{key:"_processList",value:function(){var e,t,a,o=[],n=this.props.checkList;e=n.length;for(var r=0;r<e;r++)a=n[r],t=this._inList(a)?c.default.createElement("li",{key:a},c.default.createElement("input",{type:"checkbox",key:a,checked:!0,value:a,onChange:this._toggleSelection.bind(this,a,e)}),c.default.createElement("span",{className:"gor-checklist-item"},this.context.intl.formatMessage(v.stringConfig[a]))):this._isValid(a,e)?c.default.createElement("li",{key:a},c.default.createElement("input",{type:"checkbox",key:a,value:a,checked:!1,onChange:this._toggleSelection.bind(this,a,e)}),c.default.createElement("span",{className:"gor-checklist-item"},this.context.intl.formatMessage(v.stringConfig[a]))):c.default.createElement("li",{key:a},c.default.createElement("input",{type:"checkbox",key:a,checked:!1,value:a,onChange:this._toggleSelection.bind(this,a,e)}),c.default.createElement("span",{className:"gor-checklist-item"},this.context.intl.formatMessage(v.stringConfig[a])),c.default.createElement("span",{className:"gor-error-sm"},c.default.createElement(p.FormattedMessage,{id:"operation.safety.steperror",defaultMessage:"(Check again)",description:"Text for error in step"}))),o.push(t);return o}},{key:"render",value:function(){var e=this._processList();return c.default.createElement("div",{className:"gor-safetylist"},c.default.createElement("div",{className:"gor-modal-content"},c.default.createElement("div",{className:"gor-modal-head"},c.default.createElement("div",{className:"gor-usr-add"},c.default.createElement(p.FormattedMessage,{id:"operation.safety.heading",defaultMessage:"Safety checklist",description:"Text for safety heading"})),c.default.createElement("span",{className:"close",onClick:this._removeThisModal.bind(this)},"×")),c.default.createElement("div",{className:"gor-modal-body"},c.default.createElement("form",{action:"#",id:"safetyForm"},c.default.createElement("div",{className:"gor-usr-form"},c.default.createElement("div",{className:"gor-usr-details"},c.default.createElement("div",{className:"gor-usr-hdsm"},c.default.createElement(p.FormattedMessage,{id:"operation.safety.steps",defaultMessage:"Check approval steps",description:"Text for approval steps"})),c.default.createElement("div",{className:"gor-sub-head"},c.default.createElement(p.FormattedMessage,{id:"operation.safety.text",defaultMessage:"Tick every item to confirm that the system is safe to resume operation.",description:"Text for ticking items"})),c.default.createElement("div",{className:"gor-safety-body"},this.state.safetyError&&c.default.createElement("div",{className:"gor-safety-error"},c.default.createElement("div",{className:"tab-alert-icon"}),c.default.createElement("div",{className:"gor-error-sm"},c.default.createElement(p.FormattedMessage,{id:"operation.safety.errors",defaultMessage:"System has found some of these steps were not followed.  Please check or contact service engineer for support",description:"Text for safety error"}))),c.default.createElement("ul",null,e.length>0?e:"")),c.default.createElement("div",{className:"gor-margin-top"},c.default.createElement("button",{type:"submit",className:"gor-add-btn",disabled:!this.state.allChecked,onClick:this._handleSafetyConfirm.bind(this)},c.default.createElement(p.FormattedMessage,{id:"operation.safety.confirm",defaultMessage:"Confirm",description:"Text for confirm button"}),c.default.createElement(E.default,{isLoading:this.props.safetySpinner,setSpinner:this.props.setSafetySpinner})))))))))}}]),t}(c.default.Component);S.contextTypes={intl:c.default.PropTypes.object.isRequired};var k=function(e){return{userRequest:function(t){e((0,m.userRequest)(t))},resetForm:function(){e((0,f.modalFormReset)())},setSafetySpinner:function(t){e((0,h.setSafetySpinner)(t))},validatingList:function(t){e((0,f.validatingList)(t))}}};S.propTypes={auth_token:c.default.PropTypes.string,username:c.default.PropTypes.string,modalStatus:c.default.PropTypes.bool,checkList:c.default.PropTypes.array,safetyErrorList:c.default.PropTypes.array,safetySpinner:c.default.PropTypes.bool,system_emergency:c.default.PropTypes.bool,system_data:c.default.PropTypes.string,userRequest:c.default.PropTypes.func,setSafetySpinner:c.default.PropTypes.func,resetForm:c.default.PropTypes.func},t.default=(0,y.connect)(i,k)(S)},310:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{auth_token:e.authLogin.auth_token}}function l(e){return{endConnect:function(){e((0,h.endWsAction)())},userLogout:function(){e((0,m.logoutRequest)())}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=a(1),d=o(c),p=a(5),f=(o(p),a(7)),m=a(97),h=a(36),y=a(3),g=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.auth_token||this.removeThisModal()}},{key:"removeThisModal",value:function(){this.props.removeModal()}},{key:"appLogout",value:function(){this.props.removeModal(),sessionStorage.clear(),this.props.userLogout(),this.props.endConnect()}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("div",{className:"gor-logout"},d.default.createElement("div",{className:"gor-logout-text"},d.default.createElement("div",{className:"gor-question gor-align-middle"}),d.default.createElement("span",null,d.default.createElement(y.FormattedMessage,{id:"logout.question",defaultMessage:"Are you sure you would like to log out now?",description:"Text for logout question"}))),d.default.createElement("div",{className:"gor-logout-bottom"},d.default.createElement("button",{className:"gor-cancel-btn",onClick:this.removeThisModal.bind(this)},d.default.createElement(y.FormattedMessage,{id:"logout.cancel",defaultMessage:"Cancel",description:"Text for cancel"})),d.default.createElement("button",{className:"gor-logout-btn",onClick:this.appLogout.bind(this)},d.default.createElement(y.FormattedMessage,{id:"logout.done",defaultMessage:"Log out now",description:"Text for logout button"})))))}}]),t}(d.default.Component);t.default=(0,f.connect)(i,l)(g)},330:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{tab:e.tabSelected.tab||E.TAB_ROUTE_MAP[E.OVERVIEW],overview_status:e.tabsData.overview_status||null,system_emergency:e.tabsData.system_emergency||!1,system_data:e.tabsData.system_data||null,users_online:e.tabsData.users_online||0,audit_count:e.tabsData.audit_count||0,space_utilized:e.tabsData.space_utilized||0,orders_completed:e.tabsData.orders_completed||0,system_status:e.tabsData.status||null,audit_alert:e.tabsData.audit_alert||0}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),u=a(1),c=o(u),d=a(5),p=(o(d),a(287)),f=o(p),m=a(22),h=a(7),y=a(106),g=a(43),b=a(116),v=a(38),_=a(37),E=a(2),S=a(3),k=a(303),T=o(k),O=a(304),w=o(O),M=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"handleTabClick",value:function(e){switch(e){case E.SYSTEM:this.props.setButlerSpinner(!0);break;case E.INVENTORY:this.props.setInventorySpinner(!0);break;default:this.props.setInventorySpinner(!1),this.props.setButlerSpinner(!1)}}},{key:"_stopOperation",value:function(e){g.modal.add(T.default,{title:"",size:"large",closeOnOutsideClick:!1,hideCloseButton:!1,emergencyPress:e})}},{key:"_emergencyRelease",value:function(){g.modal.add(w.default,{title:"",size:"large",closeOnOutsideClick:!1,hideCloseButton:!1})}},{key:"componentWillReceiveProps",value:function(e){e.system_data!==E.SOFT_MANUAL||this.props.system_data!==E.HARD&&this.props.system_data?e.system_emergency&&!this.props.system_emergency?this._stopOperation(!0):e.system_data===E.SOFT&&this.props.system_data===E.SOFT_MANUAL&&this._stopOperation(!0):this._emergencyRelease()}},{key:"_parseStatus",value:function(){var e=void 0,t=void 0,a=void 0,o=void 0,n=void 0,r=void 0,s=void 0,i=void 0,l=void 0,u=void 0,d=void 0,p=void 0,f=void 0,m=void 0,h=void 0,y=void 0,g=void 0,b=void 0,v=void 0,_=void 0,k={},T=!1,O=void 0;return g=c.default.createElement(S.FormattedMessage,{id:"tabs.offline",description:"offline",defaultMessage:"Offline"}),e=c.default.createElement(S.FormattedMessage,{id:"overview.tab.heading",description:"overview tab",defaultMessage:"OVERVIEW"}),t=c.default.createElement(S.FormattedMessage,{id:"system.tab.heading",description:"system tab",defaultMessage:"SYSTEM"}),a=c.default.createElement(S.FormattedMessage,{id:"orders.tab.heading",description:"orders tab",defaultMessage:"ORDERS"}),n=c.default.createElement(S.FormattedMessage,{id:"users.tab.heading",description:"users tab",defaultMessage:"USERS"}),l=c.default.createElement(S.FormattedMessage,{id:"inventory.tab.heading",description:"inventory tab",defaultMessage:"INVENTORY"}),u=c.default.createElement(S.FormattedMessage,{id:"audit.tab.heading",description:"audit tab",defaultMessage:"AUDIT"}),O=c.default.createElement(S.FormattedMessage,{id:"utilities.tab.heading",description:"audit tab",defaultMessage:"UTILITIES"}),this.props.system_status?(d=this.props.overview_status===E.FULFILLING_ORDERS?c.default.createElement(S.FormattedMessage,{id:"overviewStatus.tab.fulfilling",description:"overview Status fulfilling orders",defaultMessage:"Fulfilling orders"}):c.default.createElement(S.FormattedMessage,{id:"overviewStatus.tab.default",description:"default overview Status",defaultMessage:"None"}),this.props.system_emergency&&(d=c.default.createElement(S.FormattedMessage,{id:"overviewStatus.tab.stop",description:"overview Status emergency",defaultMessage:"Operation stopped"}),i="gor-alert"),p=c.default.createElement(S.FormattedMessage,{id:"systemStatus.tab.online",description:"system Status online",defaultMessage:"Online"}),b=E.GOR_ONLINE,o=c.default.createElement(S.FormattedNumber,{value:this.props.orders_completed}),f=c.default.createElement(S.FormattedMessage,{id:"ordersStatus.tab.heading",description:"orders Status ",defaultMessage:"{count}% fulfilled",values:{count:o}}),v=E.GOR_ONLINE,r=c.default.createElement(S.FormattedNumber,{value:this.props.users_online}),m=c.default.createElement(S.FormattedMessage,{id:"usersStatus.tab.heading#",description:"users Status ",defaultMessage:"{count} {count,plural, =0 {user} one {user} other {users}} online",values:{count:this.props.users_online?this.props.users_online:"0"}}),s=c.default.createElement(S.FormattedNumber,{value:this.props.space_utilized}),y=c.default.createElement(S.FormattedMessage,{id:"inventoryStatus.tab.heading",description:"inventory Status ",defaultMessage:"{count}% space utilized",values:{count:s}}),h=c.default.createElement(S.FormattedMessage,{id:"auditStatus.tab.heading",description:"audit Status ",defaultMessage:"{count} in progress",values:{count:this.props.audit_count?this.props.audit_count:"None"}}),_=this.props.audit_count?E.GOR_ONLINE:E.GOR_OFFLINE,this.props.audit_alert&&(_=this.props.audit_alert?"gor-alert":_,h=c.default.createElement(S.FormattedMessage,{id:"auditStatus.tab.alert.heading",description:"audit Status alert",defaultMessage:"{count} {count,plural, one {alert} other {alerts}}",values:{count:this.props.audit_alert?this.props.audit_alert:"0"}}),T=!0)):(d=g,p=g,f=g,m=g,y=g,h=g,b=E.GOR_OFFLINE),k={overview:e,system:t,order:a,users:n,inventory:l,audit:u,overviewStatus:d,overviewClass:i,systemStatus:p,ordersStatus:f,auditStatus:h,usersStatus:m,inventoryStatus:y,systemClass:b,ordersClass:v,auditClass:_,auditIcon:T,utilities:O}}},{key:"render",value:function(){var e=this._parseStatus(),t=!0;return c.default.createElement("div",{className:"gor-tabs gor-main-block"},c.default.createElement(m.Link,{to:"/overview",onClick:this.handleTabClick.bind(this,E.OVERVIEW)},c.default.createElement(f.default,{items:{tab:e.overview,Status:e.overviewStatus,currentState:e.overviewClass},changeClass:this.props.tab.toUpperCase()===E.OVERVIEW?"sel":E.GOR_NORMAL_TAB,subIcons:!1})),c.default.createElement(m.Link,{to:"/system/butlerbots",onClick:this.handleTabClick.bind(this,E.SYSTEM)},c.default.createElement(f.default,{items:{tab:e.system,Status:e.systemStatus,currentState:e.systemClass},changeClass:this.props.tab.toUpperCase()===E.SYSTEM?"sel":E.GOR_NORMAL_TAB,subIcons:!0})),c.default.createElement(m.Link,{to:"/orders/waves",onClick:this.handleTabClick.bind(this,E.ORDERS)},c.default.createElement(f.default,{items:{tab:e.order,Status:e.ordersStatus,currentState:e.ordersClass},changeClass:this.props.tab.toUpperCase()===E.ORDERS?"sel":E.GOR_NORMAL_TAB,subIcons:!1})),c.default.createElement(m.Link,{to:"/audit",onClick:this.handleTabClick.bind(this,E.AUDIT)},c.default.createElement(f.default,{items:{tab:e.audit,Status:e.auditStatus,currentState:e.auditClass},changeClass:this.props.tab.toUpperCase()===E.AUDIT?"sel":E.GOR_NORMAL_TAB,subIcons:e.auditIcon})),c.default.createElement(m.Link,{to:"/inventory",onClick:this.handleTabClick.bind(this,E.INVENTORY)},c.default.createElement(f.default,{items:{tab:e.inventory,Status:e.inventoryStatus,currentState:""},changeClass:this.props.tab.toUpperCase()===E.INVENTORY?"sel":E.GOR_NORMAL_TAB,subIcons:!1})),c.default.createElement(m.Link,{to:"/users",onClick:this.handleTabClick.bind(this,E.USERS)},c.default.createElement(f.default,{items:{tab:e.users,Status:e.usersStatus,currentState:""},changeClass:this.props.tab.toUpperCase()===E.USERS?"sel":E.GOR_NORMAL_TAB,subIcons:!1})),t?c.default.createElement(m.Link,{to:"/utilities",onClick:this.handleTabClick.bind(this,E.UTILITIES)},c.default.createElement(f.default,{items:{tab:e.utilities,Status:"",currentState:""},changeClass:this.props.tab.toUpperCase()===E.UTILITIES?"sel":E.GOR_NORMAL_TAB,subIcons:!1})):"")}}]),t}(c.default.Component),C=function(e){return{tabSelected:function(t){e((0,y.tabSelected)(t))},subTabSelected:function(t){e((0,y.subTabSelected)(t))},setInventorySpinner:function(t){e((0,b.setInventorySpinner)(t))},setAuditSpinner:function(t){e((0,v.setAuditSpinner)(t))},setButlerSpinner:function(t){e((0,_.setButlerSpinner)(t))}}};t.default=(0,h.connect)(i,C)(M)}});
//# sourceMappingURL=defaultApp.d6a85ec3.chunk.js.map